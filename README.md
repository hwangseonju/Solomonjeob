![](./Img/solomon_banner.png)



### ëª©ì°¨

------

[TOC]



### ğŸ–Œï¸ ì†”ë¡œëª¬ì ‘ ì†Œê°œ

------

- ê°œë°œ ê¸°ê°„ : 2022. 01. 10 ~ 2022. 02. 18 (6 weeks)
- ê°œë°œ ì¸ì› : ì´ì£¼ìš©, ê¹€ë„ì—°, ê¹€ì‹ ì•„, ë…¸ê±´ìš°, í™©ì„ ì£¼
- ì£¼ì œ : ë©´ì ‘ì— ì–´ë ¤ì›€ì„ ê²ªê³  ìˆëŠ” IT ì·¨ì—…ì¤€ë¹„ìƒì„ ìœ„í•œ í™”ìƒ ë©´ì ‘ ì„œë¹„ìŠ¤



### ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ ì—­í•  ë° íŒ€ì› ì†Œê°œ

------

| Name     | ì´ì£¼ìš©                                         | ê¹€ë„ì—°                                 | ê¹€ì‹ ì•„                                       | ë…¸ê±´ìš°                               | í™©ì„ ì£¼                                         |
| -------- | ---------------------------------------------- | -------------------------------------- | -------------------------------------------- | ------------------------------------ | ---------------------------------------------- |
| Profile  | ![](./Img/ì´ì£¼ìš©.jpg)                          | ![](./Img/ê¹€ë„ì—°.png)                  | ![](./Img/ê¹€ì‹ ì•„.jpg)                        | ![](./Img/ë…¸ê±´ìš°.jpg)                | ![](./Img/í™©ì„ ì£¼.jpg)                          |
| Position | íŒ€ì¥ & Frontend                                | Backend                                | Backend                                      | Frontend                             | Backend                                        |
| Git      | @[leejuyong12](https://github.com/leejuyong12) | @[kid-owo](https://github.com/kid-owo) | @[dodssockii](https://github.com/dodssockii) | @[rogonu](https://github.com/rogonu) | @[hwangseonju](https://github.com/hwangseonju) |



### âœ¨ í•µì‹¬ ê¸°ëŠ¥

------

<ì‚¬ì§„>





### ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

------

#### Back-End

##### <img src="https://img.shields.io/badge/java-8-007396?style=for-the-badge&logo=java&logoColor=white"> <img src="https://img.shields.io/badge/spring boot-2.4.0-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"><img src="https://img.shields.io/badge/JPA-6DB33F?style=for-the-badge&logo=Hibernate&logoColor=white"> <img src="https://img.shields.io/badge/Gradle-02303A?style=for-the-badge&logo=Gradle&logoColor=white"> <img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white"> <img src="https://img.shields.io/badge/Openvidu-2.20.0-ffcd00?style=for-the-badge&logo=&logoColor=black">

#### Front-End

<img src="https://img.shields.io/badge/vue.js-3.2.9-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white"> <img src="https://img.shields.io/badge/bootstrap-2.21.2-7952B3?style=for-the-badge&logo=bootstrap&logoColor=white"> <img src="https://img.shields.io/badge/HTML-E34F26?style=for-the-badge&logo=HTML5&logoColor=white"> <img src="https://img.shields.io/badge/CSS-1572B6?style=for-the-badge&logo=CSS3&logoColor=white"> <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=black">

#### Tool

<img src="https://img.shields.io/badge/GitLab-FCA121?style=for-the-badge&logo=GitLab&logoColor=white"> <img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white"> <img src="https://img.shields.io/badge/NGINX-009639?style=for-the-badge&logo=NGINX&logoColor=white"> <img src="https://img.shields.io/badge/Jira-0052CC?style=for-the-badge&logo=JiraSoftware&logoColor=white"> <img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=Notion&logoColor=white"> <img src="https://img.shields.io/badge/Mattermost-0058CC?style=for-the-badge&logo=Mattermost&logoColor=white">

#### Architecture

![](./Img/architecture.png)



<details>
<summary>Back-end ê¸°ìˆ  ìŠ¤íƒ ë³´ê¸°</summary>
<div markdown="1">

- Spring-Boot : 2.4.0
- Spring-Boot-Data-JPA
- Spring-Boot-Starter-JDBC
- Spring Security
- Spring-Boot-Starter-thymeleaf
- lombok
- mysql
- jjwt : 0.11.2
- Spring-Boot-Starter-Mail
- Swagger : 2.3.0 
- Openvidu-java-client : 2.20.0
- Openvidu-test-browsers : 1.0.0

</div>
</details>

<details>
<summary>Front-end ê¸°ìˆ  ìŠ¤íƒ ë³´ê¸°</summary>
<div markdown="1">

- JS
- HTML
- CSS
- Vue.js @3.2.29

ë¼ì´ë¸ŒëŸ¬ë¦¬

- axios @0.25.0 : Promise ê¸°ë°˜ HTTP í´ë¼ì´ì–¸íŠ¸
- bootstrap-vue @2.21.2
- Openvidu-bowser @2.20.0 : WebRTC ë¼ì´ë¸ŒëŸ¬ë¦¬
- eslint & prettier @6.7.2 : í˜‘ì—…ì„ ìœ„í•œ formatter ë¼ì´ë¸ŒëŸ¬ë¦¬

</div>
</details>



### ğŸ“œ í˜•ìƒê´€ë¦¬ ë° ê¸°íš

------

#### Notion

![](./Img/Notion.png)



#### Jira

![](./Img/Jira.png)



#### Burndown Chart

![](./Img/BurndownChart.png)



#### ERD

![](./Img/ERD.png)





| êµ¬ë¶„           | ë§í¬                                                         |
| -------------- | ------------------------------------------------------------ |
| Notion         | [notion](https://feline-pluto-dd6.notion.site/393ec2193d8d4ec2976a198e5b00a699) |
| Documents      | ppt                                                          |
| Git Convention | [notion-convention](https://feline-pluto-dd6.notion.site/branch-commit-convention-bc49a8657c5b4a9abfa97a9df1d98c89) |
| WireFrame      | [Oven](https://ovenapp.io/view/xq832UXEkW43RQMdULxiaBkPIe0sGuVc/) |



### âš™ï¸ ì„¤ì • ë° ì‹¤í–‰

------

- ì„¤ì¹˜ í™˜ê²½

  -> AWS EC2 Linux, Docker, Docker-compose, IntelliJ IDEA 2021.3.1, Visual Studio Code

<details>
    <summary>1. Java8 ë²„ì „ ì„¤ì¹˜</summary>
    <div>

- Azul public key ì¶”ê°€
	
	 ```shell
    	$sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 0x219BD9C9
   ```

- Azul respository ì¶”ê°€

  ```shell
  $sudo apt-add-repository 'deb http://repos.azulsystems.com/ubuntu stable main'
  ```

- zulu-8 ì„¤ì¹˜

  ```shell
  $sudo apt-get update
  $sudo apt-get install zulu-8
  ```

- í™˜ê²½ë³€ìˆ˜ ì„¤ì •

  ```shell
  $cd /etc
  $sudo nano profile
  ```

  ë³¸ì¸ì˜ í™˜ê²½ì— ë§ê²Œ ì„¤ì •

</div>

</details>



<details>
    <summary>2. Docker & Docker-compose ì„¤ì¹˜</summary>
    <div>

- apt íŒ¨í‚¤ê¸° ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸
  
  ```shell
  $sudo apt update && sudo apt upgrade
  ```
  
- ë‹¤ìš´ë¡œë“œë¥¼ ìœ„í•œ Util ì¤€ë¹„
  
  ```shell
  $sudo apt-get install \
  apt-transport-https \
  ca-certificates \
  curl \
  gnupg-agent \
  software-properties-common
  ```
  
- Docker GPG key ì¶”ê°€
  
  ```shell
  $curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add
  ```
  
- apt repoì— Docker ë‹¤ìš´ë¡œë“œ ê²½ë¡œ ì¶”ê°€
  
  ```shell
  $sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable"
  ```
  
- Docker ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜
  
  ```shell
  $sudo apt-cache policy docker-ce
  $sudo apt install docker-ce
  $sudo apt update
  ```
  
- sudo ì—†ì´ docker ì‚¬ìš©ì„ ìœ„í•œ ubuntu user docker ê·¸ë£¹ì— ë“±ë¡ í›„ ì„œë²„ ì¬ë¶€íŒ…
  
  ```shell
  $sudo usermod -aG docker ubuntu
  $sudo reboot
  ```
  
- Ubuntu ê³„ì • ë¹„ë°€ë²ˆí˜¸ ì„¤ì •(ê¸°ì¡´ì— ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ìˆ˜í–‰)
  
  ```shell
  $sudo passwd ubuntu
  ```
  
- Docker-compose ì„¤ì¹˜
  
  ```shell
  $sudo curl -L https://github.com/docker/compose/releases/download/1.25.0-rc2/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose
  ```
  
- ì‹¤í–‰ ê¶Œí•œ ì£¼ê¸°
  
  ```shell
  $sudo chmod +x /usr/local/bin/docker-compose
  ```
  
    

  </div>
  </details>


<details>
<summary>3. MySql ì„¤ì¹˜</summary>
<div>

- mysql server ì„¤ì¹˜

  ```shell
  $sudo apt update
  $sudo apt-get install mysql-server
  ```

- ëŒ€ì†Œë¬¸ì êµ¬ë³„ defaultê°’ ë³€ê²½

  - msyql.cnf íŒŒì¼ì— â€˜lower_case_table_names = 1â€™ ì¶”ê°€

  ```shell
  $sudo service mysql stop
  $sudo rm -rf /var/lib/mysql
  $sudo mkdir /var/lib/mysql
  $sudo chown mysql:mysql /var/lib/mysql
  $sudo chmod 700 /var/lib/mysql
  $cd /etc/mysql/mysql.conf.d
  $sudo nano mysqld.cnf
  ```

- mysql ì„œë¹„ìŠ¤ ì¬ì‹œì‘

  ```shell
  $sudo mysqld --defaults-file=/etc/mysql/my.cnf --initialize --lower_case_table_names=1 --user=mysql --console
  $sudo service mysql start
  ```

- ìƒì„±ëœ rootì˜ ë¹„ë°€ë²ˆí˜¸ ê²€ìƒ‰

  ```shell
  $sudo grep 'temporary password' /var/log/mysql/error.log
  ```

- mysql ì„¸ì…˜ ì ‘ì†í•´ì„œ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

  - ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•´ì•¼ root ê³„ì • ì ‘ì† ê°€ëŠ¥

  ```shell
  $sudo mysql -u root -p
  // password ì…ë ¥
  > mysql : alter user 'root'@'localhost' identified by 'ìƒˆë¹„ë°€ë²ˆí˜¸ ì…ë ¥';
  ```

- ì™¸ë¶€ ì ‘ì† í—ˆìš©

  - ëª¨ë“  IP í—ˆìš©

    - mysql.cnf íŒŒì¼ì— â€˜bind-address = 0.0.0.0â€™ìœ¼ë¡œ ìˆ˜ì •í•˜ê¸° í˜¹ì€ 

      bind-address ì£¼ì„ì²˜ë¦¬í•˜ê¸° â†’ ê°™ì€ ê²°ê³¼

    ```shell
    $cd /etc/mysql/mysql.conf.d
    $sudo nano mysqld.cnf
    ```

  - ì„¤ì • ì ìš©ì„ ìœ„í•œ ì¬ì‹œì‘

    ```shell
    $sudo service mysql restart
    ```

  - ì‚¬ìš©ì ê³„ì • ì¶”ê°€ 

    - ì‚¬ìš©ìë¥¼ ìƒì„±í•˜ê³ , ëª¨ë“  ê¶Œí•œ(CRUD) ë¶€ì—¬

    ```shell
    $sudo mysql -u root -p
    //password ì…ë ¥
    > CREATE USER 'root'@'%' IDENTIFIED BY 'ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥';
    > GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;
    > FLUSH PRIVILEGES;
    ```

- Public IP ì¡°íšŒí•˜ê¸°

  ```shell
  $curl ifconfig.me
  ```



</div>
</details>

<details>
<summary>4. Nginx ì„¤ì¹˜ ë° ì„¤ì •</summary>
<div>


- Nginx ì„¤ì¹˜ í›„ ë²„ì „ í™•ì¸

  ```shell
  $sudo apt install nginx
  $nginx -v
  ```

- Nginx ì„¤ì¹˜ í™•ì¸

  ```shell
  $sudo service nginx status  
  ```

- Nginx ì„¤ì •

  - ì„¤ì • íŒŒì¼ ìˆ˜ì •(/etc/nginx/sites-available/test.conf)

    ```shell
    $sudo vim test.conf
    ```

    ```
    server {
    
            server_name <ë„ë©”ì¸>;
            root /var/www/dist/;
            index index.html;
    
            location / {
                try_files $uri $uri/ /index.html;
            }
    
            location /api {
                proxy_pass http://localhost:8080;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header Host $http_host;
            }
    
            error_page 404 /404.html;
                location = /index.html {
            }
            error_page 500 502 503 504 /50x.html;
                location = /index2.html {
            }
    
    
        listen [::]:443 ssl ipv6only=on; # managed by Certbot
        listen 443 ssl; # managed by Certbot
        ssl_certificate /etc/letsencrypt/live/<ë„ë©”ì¸>/fullchain.pem; # managed by Certbot
        ssl_certificate_key /etc/letsencrypt/live/<ë„ë©”ì¸>/privkey.pem; # managed by Certbot
        include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
        ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
    
    }
    server {
        if ($host = <ë„ë©”ì¸>) {
            return 301 https://$host$request_uri;
        } # managed by Certbot
    
    
            listen 80 default_server;
            listen [::]:80 default_server;
    
            server_name <ë„ë©”ì¸>;
    
    
        return 404; # managed by Certbot
    }
    ```

- Nginx ì„¤ì • ë³€ê²½ í›„ syntax ê²€ì‚¬

  ```shell
  $sudo nginx -t
  ```

- Nginx ì„¤ì • ë³€ê²½ í›„ ì¬ì‹œì‘ í•„ìˆ˜

  ```shell
  $sudo service nginx restart 
  ```



</div>
</details>

<details>
<summary>5. Openvidu ì„¤ì¹˜ ë° ì„¤ì •</summary>
<div>


- Openvidu Port í™•ë³´

 `22 TCP`, `80 TCP` , `443 TCP`, `3478 TCP+UDP`, 

  `40000~57000 TCP+UDP`, `57001~65535 TCP+UDP`

- Openvidu Install

```shell
$cd /opt   # openviduëŠ” /opt ë””ë ‰í† ë¦¬ì— ì„¤ì¹˜ ê¶Œì¥

$sudo curl https://s3-eu-west-1.amazonaws.com/aws.openvidu.io/install_openvidu_latest.sh | sudo bash
```

- ì„¤ì • íŒŒì¼ ìˆ˜ì • ( /opt/openvidu/.env)

```shell
$sudo vi .env
```

```
DOMAIN_OR_PUBLIC_IP=<Linux ì„œë²„ì˜ public ip ì£¼ì†Œ ë˜ëŠ” ë„ë©”ì¸>
OPENVIDU_SECRET=<ì‚¬ìš©í•  ë¹„ë°€ë²ˆí˜¸ ì…ë ¥>
CERTIFICATE_TYPE=letsencrypt # default ê°’ì€ selfsignedì§€ë§Œ selfsigned ë°©ì‹ ì‚¬ìš©ì‹œ ë³´ì•ˆ ë¬¸ì œ diì•¼ê¸°
							 # SSL í‚¤ê°€ ìˆë‹¤ë©´ owncert ë°©ì‹ìœ¼ë¡œ í•˜ë˜, /owncert ë””ë ‰í† ë¦¬ ì•ˆì— í‚¤ê°€ ìˆì–´ì•¼ í•œë‹¤.
LETSENCRYPT_EMAIL=<ì´ë©”ì¼>
HTTP_PORT=80
HTTPS_PORT=443

# HTTP_PORTì™€ HTTPS_PORTëŠ” letsencrypt ë°©ì‹ì˜ í‚¤ë¥¼ ë°œê¸‰ ë°›ê¸° ì „ê¹Œì§„ ê¸°ë³¸ í¬íŠ¸ì¸ 80, 443ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤!
# í‚¤ë¥¼ ë°œê¸‰ë°›ê³  ë‚œ í›„ë¶€í„°ëŠ” í¬íŠ¸ ë³€ê²½í•´ë„ ë¬´ë°©í•©ë‹ˆë‹¤!
```

- Openvidu Server ì‹¤í–‰

```shell
$sudo ./openvidu start
```

- Openvidu Server ë™ì‘ í™•ì¸

  - Docker Containerì— ì•„ë˜ì™€ ê°™ì´ ì˜¬ë¼ì™€ ìˆëŠ”ì§€ í™•ì¸

    `openvidu-coturn`, `kurento-media-server`, `openvidu-call`, `openvidu-proxy`,

    `openvidu-redis`, `openvidu-server`

  ```shell
  $ sudo docker ps
  ```

  ```
  CONTAINER ID   IMAGE                                 COMMAND                  CREATED        STATUS                  PORTS     NAMES
  1c2af864a37c   openvidu/openvidu-coturn:5.0.0        "docker-entrypoint.sâ€¦"   20 hours ago   Up 20 hours                       openvidu_coturn_1
  575695716b60   kurento/kurento-media-server:6.16.0   "/entrypoint.sh"         20 hours ago   Up 20 hours (healthy)             openvidu_kms_1
  9abf26e074bd   openvidu/openvidu-call:2.20.0         "docker-entrypoint.sâ€¦"   20 hours ago   Up 20 hours                       openvidu_app_1
  f222d92e2f00   openvidu/openvidu-proxy:7.0.0         "/docker-entrypoint.â€¦"   20 hours ago   Up 20 hours                       openvidu_nginx_1
  09474b6ed7ec   openvidu/openvidu-redis:3.0.0         "docker-entrypoint.sâ€¦"   20 hours ago   Up 20 hours                       openvidu_redis_1
  8b27e879a593   openvidu/openvidu-server:2.20.0       "/usr/local/bin/entrâ€¦"   20 hours ago   Up 20 hours                       openvidu_openvidu-server_1
  ```

- Openviduì™€ ê´€ë ¨í•œ nginx íŒŒì¼ ì„¤ì • 

  - ì„¤ì • íŒŒì¼ ìˆ˜ì •(/etc/nginx/sites-available/test.conf)

    ```
    server {
    
            server_name <ë„ë©”ì¸>;
    
            location / {
                proxy_pass http://localhost:8080;
            }
    
    
            location /openvidu {
                proxy_pass http://127.0.0.1:5443;
    		        proxy_set_header Upgrade $http_upgrade;
    		        proxy_set_header Connection 'upgrade';
    		        proxy_set_header Host $host;
    		        proxy_cache_bypass $http_upgrade;
    		   }
    
    
            location /dashboard {
                proxy_pass http://127.0.0.1:5443/dashboard;
    				}
    
    
            error_page 404 /404.html;
                location = /index.html {
            }
            error_page 500 502 503 504 /50x.html;
                location = /index2.html {
            }
    
    
        listen [::]:443 ssl ipv6only=on; # managed by Certbot
        listen 443 ssl; # managed by Certbot
        ssl_certificate /etc/letsencrypt/live/<ë„ë©”ì¸>/fullchain.pem; # managed by Certbot
        ssl_certificate_key /etc/letsencrypt/live/<ë„ë©”ì¸>/privkey.pem; # managed by Certbot
        include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
        ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
    
    }
    server {
        if ($host = <ë„ë©”ì¸>) {
            return 301 https://$host$request_uri;
        } # managed by Certbot
    
    
            listen 80 default_server;
            listen [::]:80 default_server;
    
            server_name <ë„ë©”ì¸>;
        return 404; # managed by Certbot
    }
    ```

- Nginx ìˆ˜ì • ì‹œ ì¬ì‹œì‘ í•„ìˆ˜

```shell
$sudo service nginx restart 
```

- https://<DOMAIN_OR_PUBLIC_IP>/dashboard ì •ìƒ ë™ì‘ í™•ì¸

  User : OPENVIDUAPP

  Password : <.envì— ì„¤ì •í•œ OPENVIDU_SECRET ê°’>


</div>
</details>

<details>
<summary>6. Git repository clone</summary>
<div>

```shell
$git clone https://lab.ssafy.com/s06-webmobile1-sub2/S06P12C207.git
```

</div>
</details>

<details>
<summary>7. Backend Build</summary>
<div>


- spring boot íŒŒì¼ build

```shell
in IntelliJ

gradle -> bootjar

in server
$java -jar test.jar
```

bootjarë¥¼ ì´ìš©í•˜ì—¬ ë¹Œë“œ í•˜ë©´ build í´ë”ê°€ ìƒì„±ëœë‹¤.

/build/libs/test.jar ì²˜ëŸ¼ ìƒì„±ëœ jar íŒŒì¼ì„ ì„œë²„ì— ì˜¬ë¦° í›„

ì„œë²„ì—ì„œ $ java -jar test.jarë¥¼ ì´ìš©í•˜ì—¬ ì‹¤í–‰í•œë‹¤.

</div>
</details>



<details>
<summary>8. Frontend Build</summary>
<div>


- node package ì„¤ì¹˜

  ```shell
  $npm install
  ```

- vue íŒŒì¼ build

  ```shell
  $npm run build
  ```

  dist í´ë”ê°€ ìƒì„±ëœë‹¤. mobaxtermê³¼ ê°™ì€ í”„ë¡œê·¸ë¨ì´ ì—†ì„ ì‹œì—ëŠ” dist í´ë”ë¥¼ zipìœ¼ë¡œ ì••ì¶•í•˜ì—¬ ì„œë²„ì—ì„œ ì••ì¶•ì„ í•´ì œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•œë‹¤.

  /var/www/ ë””ë ‰í† ë¦¬ ë°‘ì— /var/www/dist/ ì™€ ê°™ì€ ì‹ìœ¼ë¡œ dist í´ë”ë¥¼ ë„£ëŠ”ë‹¤.

</div>
</details>

### ğŸ“‚ ë””ë ‰í† ë¦¬ êµ¬ì¡°

------

#### Back-end

- [ë³´ëŸ¬ê°€ê¸° :heavy_check_mark:](./BE/README.md)

#### Front-end

- [ë³´ëŸ¬ê°€ê¸° :heavy_check_mark:](./FE/README.md)

  
